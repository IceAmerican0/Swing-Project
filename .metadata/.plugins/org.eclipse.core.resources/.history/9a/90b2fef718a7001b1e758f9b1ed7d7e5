package com.javalec.login;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.Statement;

import com.javalec.function.ShareVar;

public class RegisterAction {
	private final String url_mysql=ShareVar.url_mysql;	
	private final String id_mysql=ShareVar.id_mysql;	
	private final String pw_mysql=ShareVar.pw_mysql;
	
	String id;
	String pw1;
	String pw2;
	String name;
	
	public RegisterAction() {
		// TODO Auto-generated constructor stub
	}

	public RegisterAction(String id, String pw1, String name) {
		super();
		this.id = id;
		this.pw1 = pw1;
		this.name = name;
	}
	
	public void Register() {
		String sql="insert into user(userid,userpw,username) values (?,?,?)";
		
		try{
			PreparedStatement ps=null;
	        Class.forName("com.mysql.cj.jdbc.Driver");
	        Connection conn_mysql = DriverManager.getConnection(url_mysql,id_mysql,pw_mysql);
	        Statement stmt_mysql = conn_mysql.createStatement();
	        
	        ps=conn_mysql.prepareStatement(sql);
			ps.setString(1, id);
			ps.setString(2, pw1);
			ps.setString(3, name);
			ps.executeUpdate();
			
	        conn_mysql.close();
	    }
	    catch (Exception e){
	    	e.printStackTrace();
	    }
	}
}
